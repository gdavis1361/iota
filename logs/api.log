2025-02-18T22:47:49.355431 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:47:49.355342'}
2025-02-18T22:47:49.355503 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:47:49.355411'}
2025-02-18T22:48:00.287238 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:48:00.287174'}
2025-02-18T22:48:00.321224 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:48:00.321150'}
2025-02-18T22:50:09.674864 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:50:09.674813'}
2025-02-18T22:50:09.714700 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:50:09.714618'}
2025-02-18T22:56:23.246439 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:56:23.246346'}
2025-02-18T22:56:23.248201 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:56:23.248104'}
2025-02-18T22:56:35.943879 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:56:35.943781'}
2025-02-18T22:56:35.948613 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:56:35.948521'}
2025-02-18T22:56:37.853699 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:56:37.853636'}
2025-02-18T22:56:37.853713 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T22:56:37.853654'}
2025-02-18T23:53:59.843527 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T23:53:59.843400'}
2025-02-18T23:54:39.111976 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T23:54:39.111913'}
2025-02-18T23:54:39.190315 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-18T23:57:15.972931 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-18T23:57:15.972879'}
2025-02-18T23:57:16.050497 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-18T23:57:16.057465 - MainThread - jsquared.api - INFO - {'event': 'startup', 'config': {'debug': True, 'api_prefix': '/api/v1', 'allowed_hosts': 'localhost,127.0.0.1'}}
2025-02-19T00:01:57.332115 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:01:57.331939'}
2025-02-19T00:01:58.328871 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:01:58.336173 - MainThread - jsquared.api - INFO - {'event': 'startup', 'config': {'debug': True, 'api_prefix': '/api/v1', 'allowed_hosts': 'localhost,127.0.0.1'}}
2025-02-19T00:02:57.338926 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:02:57.338284'}
2025-02-19T00:03:57.344564 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:03:57.343531'}
2025-02-19T00:04:48.461924 - MainThread - jsquared.api - INFO - {'event': 'shutdown', 'message': 'Application shutdown initiated'}
2025-02-19T00:16:24.271450 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:16:24.250607'}
2025-02-19T00:16:35.655940 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:16:35.635025'}
2025-02-19T00:16:35.993644 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:16:36.225916 - MainThread - jsquared.api - INFO - {'request_id': 'ba0a09cc-d683-4b87-bf82-4fa685c12d2b', 'method': 'GET', 'path': '/', 'duration': 0.00045490264892578125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:16:36.244765 - MainThread - jsquared.api - INFO - {'request_id': 'f52d226e-9eb9-4f7e-aafd-35601f8efd72', 'method': 'GET', 'path': '/health', 'duration': 0.0002980232238769531, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:16:36.261764 - MainThread - jsquared.api - INFO - {'request_id': 'c15835b1-809a-4877-8218-5a58a7fc0bd7', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0002779960632324219, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:16:36.278281 - MainThread - jsquared.api - INFO - {'request_id': '780db5e0-69d6-4fa4-b5d0-887064cff505', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0002961158752441406, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:16:36.295521 - MainThread - jsquared.api - INFO - {'request_id': 'cc2e131d-50e4-4be2-9c00-526d79408c39', 'method': 'GET', 'path': '/', 'duration': 0.0002949237823486328, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:16:58.185887 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:16:58.164953'}
2025-02-19T00:16:58.265392 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:17:17.237434 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:17:17.217474'}
2025-02-19T00:17:17.316631 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:17:43.768788 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:17:43.749180'}
2025-02-19T00:17:43.847717 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:17:58.591531 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:17:58.571285'}
2025-02-19T00:17:58.671558 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:19:42.512129 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:19:42.491856'}
2025-02-19T00:19:42.591779 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:20:14.170122 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:20:14.149230'}
2025-02-19T00:20:14.243093 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:20:14.406384 - MainThread - jsquared.api - INFO - {'request_id': 'ca14e673-436c-4121-9985-961e0a5c0a4a', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005497932434082031, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:14.429803 - MainThread - jsquared.api - INFO - {'request_id': '1e38750f-9b1a-4fec-8a33-f34aa259c268', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00026702880859375, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:14.451700 - MainThread - jsquared.api - INFO - {'request_id': 'eaf98e18-fb2d-4b85-bb4d-df3afd29af87', 'method': 'GET', 'path': '/', 'duration': 0.00030493736267089844, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:14.473910 - MainThread - jsquared.api - INFO - {'request_id': '491099b7-89aa-4372-99fd-266e77fc236d', 'method': 'GET', 'path': '/health', 'duration': 0.000308990478515625, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:14.492810 - MainThread - jsquared.api - INFO - {'request_id': '668efbb5-ed7b-47fc-911a-00fbf9b4dcd2', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0002911090850830078, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:14.513475 - MainThread - jsquared.api - INFO - {'request_id': 'a67cea0e-ba0d-46d7-a86a-4371428b4990', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00033783912658691406, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:14.535425 - MainThread - jsquared.api - INFO - {'request_id': 'e1ff5f4b-b259-4a3c-a815-7908c180f684', 'method': 'GET', 'path': '/', 'duration': 0.0003497600555419922, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:31.479550 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:20:31.458108'}
2025-02-19T00:20:31.568761 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:20:32.825866 - MainThread - jsquared.api - INFO - {'request_id': '442c9d11-16ba-4ddc-9aec-ec3d62288d83', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00045609474182128906, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:32.847751 - MainThread - jsquared.api - INFO - {'request_id': 'b64ccd0b-d966-4f0d-882f-5930260c257c', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00024199485778808594, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:32.868836 - MainThread - jsquared.api - INFO - {'request_id': 'c7059ad5-25f3-4e8a-901d-01e7e6ed0393', 'method': 'GET', 'path': '/', 'duration': 0.00032520294189453125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:32.887548 - MainThread - jsquared.api - INFO - {'request_id': '73d447b0-017d-455a-bad2-15658f6f874e', 'method': 'GET', 'path': '/health', 'duration': 0.0003552436828613281, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:32.907256 - MainThread - jsquared.api - INFO - {'request_id': 'e9480b2c-0d9a-433f-85b1-be403d109e14', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.000247955322265625, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:32.928529 - MainThread - jsquared.api - INFO - {'request_id': '62a5def1-68dd-457e-bd1b-92bca93795b2', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0002551078796386719, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:20:32.948826 - MainThread - jsquared.api - INFO - {'request_id': 'fbf7bc37-cbf4-46aa-a833-2fb602284727', 'method': 'GET', 'path': '/', 'duration': 0.0002720355987548828, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:30:32.981995 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:30:32.961466'}
2025-02-19T00:30:33.063983 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T00:30:33.672580 - MainThread - jsquared.api - INFO - {'request_id': '80cbaaa3-2d0e-438c-9dd5-0b236c1be4a0', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0006091594696044922, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:30:33.689722 - MainThread - jsquared.api - INFO - {'request_id': 'e0d17554-a5f2-4413-9fc4-a2379d01d602', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00026607513427734375, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:30:33.712526 - MainThread - jsquared.api - INFO - {'request_id': '16ab8fd1-4094-47c2-a366-0345b7c15eac', 'method': 'GET', 'path': '/', 'duration': 0.0003631114959716797, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:30:33.732597 - MainThread - jsquared.api - INFO - {'request_id': '9ca24413-f069-4c18-bb8b-092f28bfcbc4', 'method': 'GET', 'path': '/health', 'duration': 0.00029206275939941406, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:30:33.751786 - MainThread - jsquared.api - INFO - {'request_id': 'e9d9cd88-8e42-4820-bd96-baa104a52ab8', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0004839897155761719, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:30:33.773371 - MainThread - jsquared.api - INFO - {'request_id': 'd2694c23-f4b1-4907-aecd-6ad9d3dd01ce', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00028896331787109375, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:30:33.788828 - MainThread - jsquared.api - INFO - {'request_id': '82beaff4-746d-42c0-9fe1-9338146a26a3', 'method': 'GET', 'path': '/', 'duration': 0.00026917457580566406, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T00:40:43.363188 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:40:43.344133'}
2025-02-19T00:41:25.482872 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:41:25.463127'}
2025-02-19T00:42:29.963547 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:42:29.943422'}
2025-02-19T00:44:49.450485 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:44:49.430226'}
2025-02-19T00:46:24.521090 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T00:46:24.500062'}
2025-02-19T01:02:47.326968 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:02:47.306282'}
2025-02-19T01:17:05.058202 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:17:05.035930'}
2025-02-19T01:17:05.143374 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:17:05.635157 - MainThread - jsquared.api - INFO - {'request_id': 'f6dde26e-761b-4490-ba17-ee43af3d48d1', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005359649658203125, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:05.907379 - MainThread - jsquared.api - INFO - {'request_id': '203b5bf8-35cb-466e-a881-2b5c802d2d18', 'method': 'PUT', 'path': '/api/v1/users/me', 'duration': 0.00027489662170410156, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:05.931526 - MainThread - jsquared.api - INFO - {'request_id': '71150f1e-fbb7-42a7-bc1f-dd5349171474', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002791881561279297, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:05.956853 - MainThread - jsquared.api - INFO - {'request_id': 'af106f22-d6c0-42ff-bf85-ae4356616514', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002770423889160156, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:05.979865 - MainThread - jsquared.api - INFO - {'request_id': '5522a424-d569-409f-a2ae-615cd29d7fbc', 'method': 'GET', 'path': '/', 'duration': 0.00035834312438964844, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:06.001804 - MainThread - jsquared.api - INFO - {'request_id': 'e4b68abb-392c-4eeb-a666-009eff1209fe', 'method': 'GET', 'path': '/health', 'duration': 0.0003650188446044922, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:06.025239 - MainThread - jsquared.api - INFO - {'request_id': 'fef6c803-5754-4e1c-8aae-3c052d7d3e0c', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00039386749267578125, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:06.050595 - MainThread - jsquared.api - INFO - {'request_id': '8bd3a43e-aafe-49a0-8181-c3645ee58f1f', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0003762245178222656, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:06.072423 - MainThread - jsquared.api - INFO - {'request_id': '8eac5c71-f1b2-4a2f-bfb7-adc0782cb002', 'method': 'GET', 'path': '/', 'duration': 0.00040078163146972656, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:17:06.099307 - MainThread - jsquared.api - ERROR - {'request_id': 'd4b33cd3-ed12-4487-857e-e066008b195a', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0014858245849609375, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:17:06.351029 - MainThread - jsquared.api - ERROR - {'request_id': '9f577a61-33d1-43ba-b019-c62a70003ee1', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0020830631256103516, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:17:06.808740 - MainThread - jsquared.api - ERROR - {'request_id': '8f0cd9e3-907b-48c9-9456-ff1421133c1e', 'method': 'GET', 'path': '/api/v1/auth/me', 'duration': 0.0010027885437011719, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': 'invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"', 'error_type': 'ValueError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 600, in solve_dependencies\n    solved = await run_in_threadpool(call, **sub_values)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread\n    return await future\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run\n    result = context.run(func, *args)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 76, in get_current_user\n    user_id = int(token_data.sub) if isinstance(token_data.sub, str) else token_data.sub\nValueError: invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"\n'}
2025-02-19T01:19:27.719315 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:19:27.698373'}
2025-02-19T01:19:27.801196 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:19:28.197063 - MainThread - jsquared.api - INFO - {'request_id': '9bab14a3-d0ae-4c55-9ee2-af3edf18acfb', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005180835723876953, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.470782 - MainThread - jsquared.api - INFO - {'request_id': '8f5a57f2-f01e-4a42-a5c1-7dff5faef732', 'method': 'PUT', 'path': '/api/v1/users/me', 'duration': 0.0002732276916503906, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.494396 - MainThread - jsquared.api - INFO - {'request_id': 'ffa43217-bc44-44f2-9279-43748f2e4fe5', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0003027915954589844, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.515990 - MainThread - jsquared.api - INFO - {'request_id': '27227f59-57c5-4705-81d8-f2052bf4bdef', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00030493736267089844, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.537657 - MainThread - jsquared.api - INFO - {'request_id': '9d138701-8406-44a1-9405-e476566b2a4e', 'method': 'GET', 'path': '/', 'duration': 0.00034499168395996094, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.556786 - MainThread - jsquared.api - INFO - {'request_id': '51ec6b7d-0e7e-4b8d-9f50-e0c039cf8b52', 'method': 'GET', 'path': '/health', 'duration': 0.00038886070251464844, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.579196 - MainThread - jsquared.api - INFO - {'request_id': '01adab26-685e-4ae9-b873-f5a91d7ec68b', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00034689903259277344, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.603044 - MainThread - jsquared.api - INFO - {'request_id': '95bede15-8c18-4f91-8e59-4974a65edf73', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00037026405334472656, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.625248 - MainThread - jsquared.api - INFO - {'request_id': '5e06e936-e820-40fb-bd6a-133f0d7daa3a', 'method': 'GET', 'path': '/', 'duration': 0.0004248619079589844, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:19:28.651419 - MainThread - jsquared.api - ERROR - {'request_id': '41d8435c-5473-418d-b658-2c911283d442', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.001444101333618164, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:19:28.896521 - MainThread - jsquared.api - ERROR - {'request_id': '4e2df2dd-8e9a-4e67-be57-ed4af12ce2c4', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0017189979553222656, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:19:29.355573 - MainThread - jsquared.api - ERROR - {'request_id': 'f1d2fa82-82c2-4b47-b8e0-d397fdb659a7', 'method': 'GET', 'path': '/api/v1/auth/me', 'duration': 0.0011408329010009766, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': 'invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"', 'error_type': 'ValueError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 600, in solve_dependencies\n    solved = await run_in_threadpool(call, **sub_values)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread\n    return await future\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run\n    result = context.run(func, *args)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 76, in get_current_user\n    user_id = int(token_data.sub) if isinstance(token_data.sub, str) else token_data.sub\nValueError: invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"\n'}
2025-02-19T01:21:18.063536 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:21:18.042557'}
2025-02-19T01:21:18.141228 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:21:18.528917 - MainThread - jsquared.api - INFO - {'request_id': '7390096f-9a57-4bfe-81b7-92a9d7cd631f', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005331039428710938, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.797091 - MainThread - jsquared.api - INFO - {'request_id': 'a27020ed-30ba-48b3-9854-24c7fbc553da', 'method': 'PUT', 'path': '/api/v1/users/me', 'duration': 0.0002598762512207031, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.822546 - MainThread - jsquared.api - INFO - {'request_id': '76feb720-2220-46d2-9ddf-0994460ed5e6', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002849102020263672, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.844999 - MainThread - jsquared.api - INFO - {'request_id': 'c61e3f74-3185-4d2e-ad0e-2b71743f4a06', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00028586387634277344, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.868292 - MainThread - jsquared.api - INFO - {'request_id': '3d9e01e9-b263-44c9-b206-37af05cd4d3d', 'method': 'GET', 'path': '/', 'duration': 0.00035500526428222656, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.889733 - MainThread - jsquared.api - INFO - {'request_id': 'f8455f2e-3301-4c60-ad64-a93fb5560449', 'method': 'GET', 'path': '/health', 'duration': 0.000370025634765625, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.912996 - MainThread - jsquared.api - INFO - {'request_id': '210e778a-ac34-4ed5-ba18-2824dc63997e', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.000377655029296875, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.938852 - MainThread - jsquared.api - INFO - {'request_id': '2e6d9624-3052-4ef9-9fc8-fc69d225119a', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00036787986755371094, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.961589 - MainThread - jsquared.api - INFO - {'request_id': '8c2a5c26-76f4-4160-b5cc-20d142dc11b7', 'method': 'GET', 'path': '/', 'duration': 0.0003650188446044922, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:21:18.987562 - MainThread - jsquared.api - ERROR - {'request_id': '7db5cd25-4168-48c6-ab14-8aa9c22e0ce6', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0014190673828125, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:21:19.236283 - MainThread - jsquared.api - ERROR - {'request_id': '981307c4-518c-4bc6-9b50-a518306e4ec8', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.001596212387084961, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:21:19.685610 - MainThread - jsquared.api - ERROR - {'request_id': 'bc95d46c-09c6-4393-ae09-d03dd0b1c9ae', 'method': 'GET', 'path': '/api/v1/auth/me', 'duration': 0.0011813640594482422, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': 'invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"', 'error_type': 'ValueError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 600, in solve_dependencies\n    solved = await run_in_threadpool(call, **sub_values)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread\n    return await future\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run\n    result = context.run(func, *args)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 76, in get_current_user\n    user_id = int(token_data.sub) if isinstance(token_data.sub, str) else token_data.sub\nValueError: invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"\n'}
2025-02-19T01:22:13.702141 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:22:13.680378'}
2025-02-19T01:22:13.782807 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:22:14.170175 - MainThread - jsquared.api - INFO - {'request_id': '8f6b0d5e-e130-4937-9369-3c0ef103a9dd', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005490779876708984, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.429837 - MainThread - jsquared.api - INFO - {'request_id': '51040197-ada6-4b8e-af25-dcfb9addb5a7', 'method': 'PUT', 'path': '/api/v1/users/me', 'duration': 0.00026798248291015625, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.453147 - MainThread - jsquared.api - INFO - {'request_id': 'cb71a55a-efaa-4081-9d28-0a94e830e4bd', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00027680397033691406, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.472986 - MainThread - jsquared.api - INFO - {'request_id': '64631449-507e-4d4b-aceb-ce56f8890ee1', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00028705596923828125, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.494168 - MainThread - jsquared.api - INFO - {'request_id': 'eb295203-3745-4255-8c17-e4e703b3a7a9', 'method': 'GET', 'path': '/', 'duration': 0.0003330707550048828, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.513549 - MainThread - jsquared.api - INFO - {'request_id': '60a4de46-bdba-48d7-9cbf-77e6ea2ad5a3', 'method': 'GET', 'path': '/health', 'duration': 0.00035190582275390625, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.532405 - MainThread - jsquared.api - INFO - {'request_id': 'a6501301-e8cd-459c-8771-ac47cfddae81', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.000331878662109375, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.556806 - MainThread - jsquared.api - INFO - {'request_id': '5d644890-5af9-48b8-8a89-dd4549bdfb0b', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0003459453582763672, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.578492 - MainThread - jsquared.api - INFO - {'request_id': '06d99bb9-6c43-4a65-a3a1-0b3a806af3c3', 'method': 'GET', 'path': '/', 'duration': 0.00037932395935058594, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:22:14.608528 - MainThread - jsquared.api - ERROR - {'request_id': 'df74487a-ecbd-46af-b391-d7f4ca045647', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0017819404602050781, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:22:14.854093 - MainThread - jsquared.api - ERROR - {'request_id': '58a12181-873a-4063-8504-1e7d69036414', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.001680135726928711, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:22:15.310161 - MainThread - jsquared.api - ERROR - {'request_id': '75d08364-d604-4929-9eeb-907008212ae7', 'method': 'GET', 'path': '/api/v1/auth/me', 'duration': 0.001074075698852539, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': 'invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"', 'error_type': 'ValueError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 600, in solve_dependencies\n    solved = await run_in_threadpool(call, **sub_values)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread\n    return await future\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run\n    result = context.run(func, *args)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 76, in get_current_user\n    user_id = int(token_data.sub) if isinstance(token_data.sub, str) else token_data.sub\nValueError: invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"\n'}
2025-02-19T01:23:03.717502 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:23:03.695795'}
2025-02-19T01:23:03.798821 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:23:47.496422 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:23:47.475116'}
2025-02-19T01:23:47.576462 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:26:18.091327 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:26:18.069502'}
2025-02-19T01:26:18.170890 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:26:18.563529 - MainThread - jsquared.api - INFO - {'request_id': 'a96f4dd9-ff64-4da6-bd5c-d67d32e47255', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005109310150146484, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.829189 - MainThread - jsquared.api - INFO - {'request_id': '93638ce2-4059-4a55-8577-ddff375d3886', 'method': 'PUT', 'path': '/api/v1/users/me', 'duration': 0.0002617835998535156, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.852061 - MainThread - jsquared.api - INFO - {'request_id': 'd330b07d-4aeb-44d0-9cf9-9e0b28bfc68c', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002529621124267578, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.871261 - MainThread - jsquared.api - INFO - {'request_id': '0004db4f-1ac7-4bd3-904f-d4df019d6fab', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00026535987854003906, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.893138 - MainThread - jsquared.api - INFO - {'request_id': '774b87f8-310e-4105-bd26-65931cca2432', 'method': 'GET', 'path': '/', 'duration': 0.00030493736267089844, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.913969 - MainThread - jsquared.api - INFO - {'request_id': 'eb822518-934c-4264-ae34-aa1f25658d62', 'method': 'GET', 'path': '/health', 'duration': 0.0003478527069091797, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.932663 - MainThread - jsquared.api - INFO - {'request_id': 'ce669610-39d1-4fdd-8efd-58e291a1fc41', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00030732154846191406, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.956436 - MainThread - jsquared.api - INFO - {'request_id': 'f5ed9c0e-0773-4c3f-b7c5-4ac820f6cf53', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0003609657287597656, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:18.980592 - MainThread - jsquared.api - INFO - {'request_id': 'a2e4b019-f30f-4930-b489-64d4fcb52563', 'method': 'GET', 'path': '/', 'duration': 0.0004038810729980469, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:26:19.007245 - MainThread - jsquared.api - ERROR - {'request_id': '2c1632ec-b1e4-43e7-ada5-8b1f05ecd2cb', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0014557838439941406, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:26:19.253958 - MainThread - jsquared.api - ERROR - {'request_id': 'eda26e14-e363-466b-8f8f-75b680778c9e', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0016632080078125, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:26:19.712344 - MainThread - jsquared.api - ERROR - {'request_id': '8763425f-62aa-4edb-b93e-d81ef8c3d2e6', 'method': 'GET', 'path': '/api/v1/auth/me', 'duration': 0.0010559558868408203, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': 'invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"', 'error_type': 'ValueError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 600, in solve_dependencies\n    solved = await run_in_threadpool(call, **sub_values)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread\n    return await future\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run\n    result = context.run(func, *args)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 76, in get_current_user\n    user_id = int(token_data.sub) if isinstance(token_data.sub, str) else token_data.sub\nValueError: invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"\n'}
2025-02-19T01:30:51.701991 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:30:51.680693'}
2025-02-19T01:30:51.781045 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:30:52.172682 - MainThread - jsquared.api - INFO - {'request_id': 'c1c383ab-7361-4c82-a4e8-775c26456722', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005350112915039062, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.436420 - MainThread - jsquared.api - INFO - {'request_id': 'e1919f4b-93f4-4606-b7df-8519dfbd492f', 'method': 'PUT', 'path': '/api/v1/users/me', 'duration': 0.00026702880859375, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.459996 - MainThread - jsquared.api - INFO - {'request_id': '6f63857a-7ac6-4792-957a-3a34902d8c69', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00026798248291015625, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.480796 - MainThread - jsquared.api - INFO - {'request_id': '8709efe0-43ea-43c4-b393-9f75b9b06be7', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002779960632324219, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.503977 - MainThread - jsquared.api - INFO - {'request_id': '85943f13-3a99-4d6a-87ef-b9862df94553', 'method': 'GET', 'path': '/', 'duration': 0.0003390312194824219, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.524204 - MainThread - jsquared.api - INFO - {'request_id': '6bc89835-cf73-447f-92ee-0d82ad7e981d', 'method': 'GET', 'path': '/health', 'duration': 0.00037407875061035156, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.545691 - MainThread - jsquared.api - INFO - {'request_id': '332d9d5a-d85d-4bd3-9dae-1b5a622e05e8', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00034117698669433594, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.573011 - MainThread - jsquared.api - INFO - {'request_id': '6e24d407-55f5-42bf-8f41-abfdee772495', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00040602684020996094, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.597573 - MainThread - jsquared.api - INFO - {'request_id': '27f618cc-a236-4567-9d7b-d9709ad7fdc4', 'method': 'GET', 'path': '/', 'duration': 0.0004181861877441406, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:30:52.626967 - MainThread - jsquared.api - ERROR - {'request_id': '3fbb8fa2-6e37-49a2-bdb6-81007b5f1728', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0015020370483398438, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:30:52.875409 - MainThread - jsquared.api - ERROR - {'request_id': '78d21271-e014-42b9-8424-b20699ea3e97', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0017368793487548828, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:30:53.336189 - MainThread - jsquared.api - ERROR - {'request_id': '589b5c49-a477-411e-8151-cb88cbdaaa0c', 'method': 'GET', 'path': '/api/v1/auth/me', 'duration': 0.0012440681457519531, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': 'invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"', 'error_type': 'ValueError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 600, in solve_dependencies\n    solved = await run_in_threadpool(call, **sub_values)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 40, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread\n    return await future\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 807, in run\n    result = context.run(func, *args)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 76, in get_current_user\n    user_id = int(token_data.sub) if isinstance(token_data.sub, str) else token_data.sub\nValueError: invalid literal for int() with base 10: "{\'sub\': \'test@example.com\'}"\n'}
2025-02-19T01:31:57.444362 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:31:57.422849'}
2025-02-19T01:31:57.524986 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:32:24.045350 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:32:24.023596'}
2025-02-19T01:32:24.125039 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:32:25.848012 - MainThread - jsquared.api - INFO - {'request_id': 'acbfac02-4e25-49b9-98ed-603e6749eb9c', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00046706199645996094, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:32:25.873975 - MainThread - jsquared.api - INFO - {'request_id': '0e735671-7cfa-433f-b6b0-c7011de1802d', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00026798248291015625, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:32:25.899388 - MainThread - jsquared.api - INFO - {'request_id': '43d0be6a-b6d4-45b2-9c3c-c9fcf2f81d52', 'method': 'GET', 'path': '/', 'duration': 0.0003299713134765625, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:32:25.920419 - MainThread - jsquared.api - INFO - {'request_id': 'c404fe56-6bc5-4bce-b79a-d69145e547a0', 'method': 'GET', 'path': '/health', 'duration': 0.00040912628173828125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:32:25.945918 - MainThread - jsquared.api - INFO - {'request_id': '930bf1ad-0276-4d9d-be77-6e619144ba81', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0003287792205810547, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:32:25.967335 - MainThread - jsquared.api - INFO - {'request_id': 'fa0d7514-328f-4271-a680-3dc7cf7c566f', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0003199577331542969, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:32:25.987799 - MainThread - jsquared.api - INFO - {'request_id': '388366a3-9263-4e84-bb6d-1bc8cb874e34', 'method': 'GET', 'path': '/', 'duration': 0.0003528594970703125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:32:26.012083 - MainThread - jsquared.api - ERROR - {'request_id': 'ea855fc8-a0af-4cad-829a-32330cfff86d', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0013251304626464844, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:33:25.408033 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:33:25.386577'}
2025-02-19T01:33:25.488703 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:33:27.216803 - MainThread - jsquared.api - INFO - {'request_id': '9a9eb5ed-9bc9-4fa1-98f6-d7aba01f00ba', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0004699230194091797, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:33:27.241159 - MainThread - jsquared.api - INFO - {'request_id': 'fd119960-4ed2-4f69-a4fa-d671c69127d3', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002529621124267578, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:33:27.264360 - MainThread - jsquared.api - INFO - {'request_id': 'a21e27ce-264f-4453-a438-93f9470a95da', 'method': 'GET', 'path': '/', 'duration': 0.0002999305725097656, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:33:27.286134 - MainThread - jsquared.api - INFO - {'request_id': '1e649bb5-3f35-456a-b80d-b4a1de1d0899', 'method': 'GET', 'path': '/health', 'duration': 0.0003871917724609375, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:33:27.309455 - MainThread - jsquared.api - INFO - {'request_id': '85c4eeda-6325-484e-aa75-748a244bd0b6', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00030803680419921875, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:33:27.334932 - MainThread - jsquared.api - INFO - {'request_id': '563f8b89-7635-4fbd-8e54-f4fb751da264', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0003349781036376953, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:33:27.359039 - MainThread - jsquared.api - INFO - {'request_id': '909890d7-d558-41b9-91ac-43c33b12be77', 'method': 'GET', 'path': '/', 'duration': 0.00034999847412109375, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:33:27.385065 - MainThread - jsquared.api - ERROR - {'request_id': 'c5cacae0-5b4b-4dc2-a70e-5483398083c8', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0014388561248779297, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:54:46.937237 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:54:46.917014'}
2025-02-19T01:55:09.491751 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:55:09.470850'}
2025-02-19T01:55:09.573397 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:55:11.328148 - MainThread - jsquared.api - INFO - {'request_id': '247a7603-2b4c-4c9f-8d86-4c717d6fe65c', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00048089027404785156, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:55:11.353579 - MainThread - jsquared.api - INFO - {'request_id': 'c4cf6f0b-cc30-49b0-9a0e-ab76a91b0961', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002548694610595703, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:55:11.377561 - MainThread - jsquared.api - INFO - {'request_id': 'dee64984-abd0-42f0-a8c4-1cbdb5e3ff4b', 'method': 'GET', 'path': '/', 'duration': 0.00032591819763183594, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:55:11.397202 - MainThread - jsquared.api - INFO - {'request_id': '08772a51-0bf6-4fe3-af01-1f3415fb42a6', 'method': 'GET', 'path': '/health', 'duration': 0.00040984153747558594, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:55:11.418629 - MainThread - jsquared.api - INFO - {'request_id': '57615c20-86e6-49f8-afa5-2e5714a5ba53', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0003020763397216797, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:55:11.442851 - MainThread - jsquared.api - INFO - {'request_id': '89b2a434-800d-4bd3-abae-b58851132cef', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0003261566162109375, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:55:11.466071 - MainThread - jsquared.api - INFO - {'request_id': '68c229e5-1da3-4158-a035-ba9a58053505', 'method': 'GET', 'path': '/', 'duration': 0.00039196014404296875, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:55:11.493547 - MainThread - jsquared.api - ERROR - {'request_id': '4e62eed9-57e1-45a6-bc55-b1034ec93dd9', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0017437934875488281, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:56:05.157746 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:56:05.136784'}
2025-02-19T01:56:05.238716 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:56:06.972276 - MainThread - jsquared.api - INFO - {'request_id': 'e47df323-6195-46d4-ab23-07cb776cd712', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005071163177490234, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:56:06.996872 - MainThread - jsquared.api - INFO - {'request_id': '7d1a8161-a999-4644-9b4f-ce9cd0ca215d', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002510547637939453, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:56:07.020156 - MainThread - jsquared.api - INFO - {'request_id': 'dafc2840-7eb4-456d-8784-5ec2ed30eb3c', 'method': 'GET', 'path': '/', 'duration': 0.0003147125244140625, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:56:07.043619 - MainThread - jsquared.api - INFO - {'request_id': 'b47bc3e2-5602-433d-8153-41f1f46fcc32', 'method': 'GET', 'path': '/health', 'duration': 0.00041604042053222656, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:56:07.064412 - MainThread - jsquared.api - INFO - {'request_id': '51d23aa2-5a7c-4737-b83b-24d00bf36771', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0003418922424316406, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:56:07.088525 - MainThread - jsquared.api - INFO - {'request_id': '5eecf1b0-ead6-4974-b4f7-e8cbb59b8b4b', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0003159046173095703, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:56:07.111613 - MainThread - jsquared.api - INFO - {'request_id': 'df0fdc32-9b28-4820-8944-5b5859f7ee7a', 'method': 'GET', 'path': '/', 'duration': 0.0003960132598876953, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:56:07.140247 - MainThread - jsquared.api - ERROR - {'request_id': 'ce600a6a-76e9-412e-a4a0-63da789f202e', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0016260147094726562, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:57:20.254409 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T01:57:20.232276'}
2025-02-19T01:57:20.335306 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T01:57:21.626332 - MainThread - jsquared.api - INFO - {'request_id': 'beda5e56-39a6-4a55-b0d6-300a976d456c', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00043892860412597656, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:21.629763 - MainThread - jsquared.api - INFO - {'request_id': '34a7c9ea-5724-426b-abe8-e1082e3438e7', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002129077911376953, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:21.633019 - MainThread - jsquared.api - INFO - {'request_id': '29fba014-ec32-403c-a0de-52c993e69ea2', 'method': 'GET', 'path': '/', 'duration': 0.0002810955047607422, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:21.634840 - MainThread - jsquared.api - INFO - {'request_id': 'c0733420-8f35-42b7-9daf-430d136aa501', 'method': 'GET', 'path': '/health', 'duration': 0.00024175643920898438, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:21.636441 - MainThread - jsquared.api - INFO - {'request_id': 'f27b6ef2-8212-4e72-b192-c7c700e1e68d', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00021195411682128906, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:21.639375 - MainThread - jsquared.api - INFO - {'request_id': '94a66aea-6740-4559-8f00-308d63ee2667', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00020194053649902344, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:21.640958 - MainThread - jsquared.api - INFO - {'request_id': '1e66244f-4abf-4cad-b9ab-0bdfc1531fdd', 'method': 'GET', 'path': '/', 'duration': 0.0002281665802001953, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:21.644256 - MainThread - jsquared.api - ERROR - {'request_id': '4e4c58df-320c-4f42-87a6-0a7eb459671d', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0009448528289794922, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 54, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:57:26.715006 - MainThread - jsquared.api - ERROR - {'request_id': '758dc5ea-3e7d-41ec-baa4-346a22d93a38', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0013518333435058594, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:57:26.720060 - MainThread - jsquared.api - ERROR - {'request_id': '5a755264-4ec6-4f5f-9845-f52052c8eecd', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.001180887222290039, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:57:26.725169 - MainThread - jsquared.api - INFO - {'request_id': '9fb56d0c-9bb8-46b9-80ec-85d5a5e84f7d', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023984909057617188, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:26.728644 - MainThread - jsquared.api - INFO - {'request_id': '6cbb60a3-8031-4b15-994f-672a3d000a78', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0003018379211425781, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T01:57:26.734613 - MainThread - jsquared.api - ERROR - {'request_id': 'bb96bc55-1317-4c5e-82f8-93bfbc98b876', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0011668205261230469, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:57:26.739199 - MainThread - jsquared.api - ERROR - {'request_id': '5c559a62-17e1-4b39-ba8d-81bf0fb67197', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0011451244354248047, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:57:26.744330 - MainThread - jsquared.api - ERROR - {'request_id': '820da92f-620d-48e6-9ff0-2ba4e9bb877a', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0010786056518554688, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'_GeneratorContextManager' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'_GeneratorContextManager\' object has no attribute \'query\'\n'}
2025-02-19T01:57:26.744993 - MainThread - jsquared.api - INFO - {'request_id': '1dec1eb8-f063-4631-b2c5-a35a968aeb43', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00021219253540039062, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:17:39.201486 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:17:39.181023'}
2025-02-19T02:19:50.456204 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:19:50.435545'}
2025-02-19T02:19:50.519532 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:20:26.494619 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:20:26.474122'}
2025-02-19T02:20:26.557105 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:20:27.065520 - MainThread - jsquared.api - INFO - {'request_id': 'c2895f07-feba-4976-a1cf-d5199df77a60', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005807876586914062, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:20:27.674828 - MainThread - jsquared.api - INFO - {'request_id': '8653383b-2bbb-4747-819f-b30af30f8291', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023293495178222656, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:20:27.678009 - MainThread - jsquared.api - INFO - {'request_id': '1df084eb-67d5-422f-a7bc-5a6f1203be90', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0001990795135498047, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:20:27.681192 - MainThread - jsquared.api - INFO - {'request_id': '5ff09882-8142-4978-bc38-fe338a675fdc', 'method': 'GET', 'path': '/', 'duration': 0.0002639293670654297, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:20:27.683040 - MainThread - jsquared.api - INFO - {'request_id': 'e7907f7c-1ad1-4df9-8300-285c0b5a8006', 'method': 'GET', 'path': '/health', 'duration': 0.0002498626708984375, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:20:27.684687 - MainThread - jsquared.api - INFO - {'request_id': '11329fd2-f90e-44e6-99ec-806602bbbe0f', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00023102760314941406, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:20:27.687736 - MainThread - jsquared.api - INFO - {'request_id': '23def48d-e41f-49ef-9571-d783273e0465', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00020384788513183594, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:20:27.689252 - MainThread - jsquared.api - INFO - {'request_id': '2249df1c-5d3d-442d-b938-b1f1874c68ed', 'method': 'GET', 'path': '/', 'duration': 0.00021314620971679688, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:04.143019 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:23:04.142054'}
2025-02-19T02:23:04.224993 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:23:04.718832 - MainThread - jsquared.api - INFO - {'request_id': 'e32a3811-04bc-41d6-a5fc-710310993f80', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005371570587158203, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:05.318012 - MainThread - jsquared.api - INFO - {'request_id': '57301009-abf1-4814-8030-0a56823b2158', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023508071899414062, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:05.321023 - MainThread - jsquared.api - INFO - {'request_id': '2f99eaea-7ddc-4eaa-a5ed-f44f793c0770', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00018978118896484375, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:05.323909 - MainThread - jsquared.api - INFO - {'request_id': '71c02e04-33d9-4297-a912-67a23f16f19a', 'method': 'GET', 'path': '/', 'duration': 0.00024127960205078125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:05.325547 - MainThread - jsquared.api - INFO - {'request_id': '39cf33ca-770e-406b-a64b-b59bc76fee8f', 'method': 'GET', 'path': '/health', 'duration': 0.0002281665802001953, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:05.327346 - MainThread - jsquared.api - INFO - {'request_id': '3be008d9-605d-4401-a957-77ee813bec2c', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0002548694610595703, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:05.330471 - MainThread - jsquared.api - INFO - {'request_id': '2bf3fdb3-cd45-4e45-b8d8-c18f23c76ed5', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0002238750457763672, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:05.332018 - MainThread - jsquared.api - INFO - {'request_id': '5e5c5945-c01b-4eba-a696-2be5b8f85f40', 'method': 'GET', 'path': '/', 'duration': 0.0002129077911376953, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:49.967248 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:23:49.946805'}
2025-02-19T02:23:50.029918 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:23:50.496486 - MainThread - jsquared.api - INFO - {'request_id': '644698fc-acc9-4fe4-a34d-956d6889953e', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005440711975097656, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.084842 - MainThread - jsquared.api - INFO - {'request_id': 'f3586d6d-c7f8-471f-9dae-d5097e5b70db', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023818016052246094, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.087962 - MainThread - jsquared.api - INFO - {'request_id': '075474b7-9df6-453c-b58d-bc4528d640a0', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00020003318786621094, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.091079 - MainThread - jsquared.api - INFO - {'request_id': '94882856-f7df-4508-9e10-51db9b0d13a3', 'method': 'GET', 'path': '/', 'duration': 0.0002999305725097656, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.092683 - MainThread - jsquared.api - INFO - {'request_id': 'a861e098-2a8e-476d-9384-76d651f50b62', 'method': 'GET', 'path': '/health', 'duration': 0.0002181529998779297, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.094166 - MainThread - jsquared.api - INFO - {'request_id': '7c33c2da-03ea-49a3-a95b-8babdb7f02ae', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.000209808349609375, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.097017 - MainThread - jsquared.api - INFO - {'request_id': '64cb5d89-f964-435e-9bb2-0cbb29f7f91d', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00019931793212890625, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.098450 - MainThread - jsquared.api - INFO - {'request_id': '9d33a644-e016-4115-9342-c9ddbc646e7d', 'method': 'GET', 'path': '/', 'duration': 0.00021910667419433594, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:51.101826 - MainThread - jsquared.api - ERROR - {'request_id': 'fabf4a15-fc8d-4589-b3b5-f77304665da6', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0005929470062255859, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'NullPool' object has no attribute 'size'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 594, in solve_dependencies\n    solved = await solve_generator(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 519, in solve_generator\n    return await stack.enter_async_context(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 619, in enter_async_context\n    result = await _cm_type.__aenter__(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 199, in __aenter__\n    return await anext(self.gen)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/db/session.py", line 71, in get_db\n    record_metrics("connection_pool_size", pool.size(), {"pool_name": "main"})\nAttributeError: \'NullPool\' object has no attribute \'size\'\n'}
2025-02-19T02:23:55.420125 - MainThread - jsquared.api - ERROR - {'request_id': '518fd39b-61a1-4004-bdbf-406ddd6f7927', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0028400421142578125, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'NullPool' object has no attribute 'size'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 594, in solve_dependencies\n    solved = await solve_generator(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 519, in solve_generator\n    return await stack.enter_async_context(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 619, in enter_async_context\n    result = await _cm_type.__aenter__(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 199, in __aenter__\n    return await anext(self.gen)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/db/session.py", line 71, in get_db\n    record_metrics("connection_pool_size", pool.size(), {"pool_name": "main"})\nAttributeError: \'NullPool\' object has no attribute \'size\'\n'}
2025-02-19T02:23:55.426585 - MainThread - jsquared.api - ERROR - {'request_id': '0badacdd-80ea-410d-b252-264cbd8ececd', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0025641918182373047, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'NullPool' object has no attribute 'size'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 594, in solve_dependencies\n    solved = await solve_generator(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 519, in solve_generator\n    return await stack.enter_async_context(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 619, in enter_async_context\n    result = await _cm_type.__aenter__(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 199, in __aenter__\n    return await anext(self.gen)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/db/session.py", line 71, in get_db\n    record_metrics("connection_pool_size", pool.size(), {"pool_name": "main"})\nAttributeError: \'NullPool\' object has no attribute \'size\'\n'}
2025-02-19T02:23:55.431997 - MainThread - jsquared.api - INFO - {'request_id': '3c3283a6-90b9-4b17-85d5-08b0db555691', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.000244140625, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:55.435819 - MainThread - jsquared.api - INFO - {'request_id': '09278141-dc20-4635-a432-53abbe783a62', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002689361572265625, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:23:55.443842 - MainThread - jsquared.api - ERROR - {'request_id': '019fe79d-deba-4484-8c8e-32bee0bd931f', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0026857852935791016, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'NullPool' object has no attribute 'size'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 594, in solve_dependencies\n    solved = await solve_generator(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 519, in solve_generator\n    return await stack.enter_async_context(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 619, in enter_async_context\n    result = await _cm_type.__aenter__(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 199, in __aenter__\n    return await anext(self.gen)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/db/session.py", line 71, in get_db\n    record_metrics("connection_pool_size", pool.size(), {"pool_name": "main"})\nAttributeError: \'NullPool\' object has no attribute \'size\'\n'}
2025-02-19T02:23:55.450292 - MainThread - jsquared.api - ERROR - {'request_id': '2f4c4244-1272-4ace-981a-51964ac715e4', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0026040077209472656, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'NullPool' object has no attribute 'size'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 594, in solve_dependencies\n    solved = await solve_generator(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 519, in solve_generator\n    return await stack.enter_async_context(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 619, in enter_async_context\n    result = await _cm_type.__aenter__(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 199, in __aenter__\n    return await anext(self.gen)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/db/session.py", line 71, in get_db\n    record_metrics("connection_pool_size", pool.size(), {"pool_name": "main"})\nAttributeError: \'NullPool\' object has no attribute \'size\'\n'}
2025-02-19T02:23:55.457993 - MainThread - jsquared.api - ERROR - {'request_id': '00003039-6d78-4363-a36e-45d8326da148', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.003351926803588867, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'NullPool' object has no attribute 'size'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app\n    solved_result = await solve_dependencies(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 594, in solve_dependencies\n    solved = await solve_generator(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 519, in solve_generator\n    return await stack.enter_async_context(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 619, in enter_async_context\n    result = await _cm_type.__aenter__(cm)\n  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/contextlib.py", line 199, in __aenter__\n    return await anext(self.gen)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/db/session.py", line 71, in get_db\n    record_metrics("connection_pool_size", pool.size(), {"pool_name": "main"})\nAttributeError: \'NullPool\' object has no attribute \'size\'\n'}
2025-02-19T02:23:55.458749 - MainThread - jsquared.api - INFO - {'request_id': '5fd990a5-f6f9-4b04-9dfc-5360c28a2d23', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002110004425048828, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:01.237332 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:25:01.216686'}
2025-02-19T02:25:01.299886 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:25:31.766206 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:25:31.745539'}
2025-02-19T02:25:31.828775 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:25:32.312392 - MainThread - jsquared.api - INFO - {'request_id': 'ef54c9c3-6674-4bd1-87ca-8fecf4d5ee74', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0004673004150390625, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.905365 - MainThread - jsquared.api - INFO - {'request_id': 'eeeb391f-c56b-41ed-b6e8-49c5ce735d21', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023984909057617188, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.908829 - MainThread - jsquared.api - INFO - {'request_id': '72540f07-819f-4dcc-b477-53be991fbd8d', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00021886825561523438, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.911884 - MainThread - jsquared.api - INFO - {'request_id': 'b06b6589-b2bb-43e9-b8a8-b09b41b083ec', 'method': 'GET', 'path': '/', 'duration': 0.00026679039001464844, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.913349 - MainThread - jsquared.api - INFO - {'request_id': 'ea15bb92-3c5c-4f00-81c3-cffc7f5d653b', 'method': 'GET', 'path': '/health', 'duration': 0.0002110004425048828, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.914846 - MainThread - jsquared.api - INFO - {'request_id': '99fb9b3d-267b-4f26-ba53-2d63342fbc66', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0002090930938720703, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.917878 - MainThread - jsquared.api - INFO - {'request_id': 'ba4b10c1-6a95-47b9-8053-8dd065b4610a', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0002338886260986328, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.919642 - MainThread - jsquared.api - INFO - {'request_id': '85db6716-27b9-4831-b54f-42944719a462', 'method': 'GET', 'path': '/', 'duration': 0.00023508071899414062, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:32.923298 - MainThread - jsquared.api - ERROR - {'request_id': '4781cc44-5e97-4bd4-92e9-b4374c466c22', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0007038116455078125, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 66, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:25:37.145435 - MainThread - jsquared.api - ERROR - {'request_id': '8dae1d52-6b48-4335-ad3a-f8ecb2c32af0', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0030138492584228516, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:25:37.152368 - MainThread - jsquared.api - ERROR - {'request_id': '5f7e4bab-9515-4268-a6f8-20b2cdf761d5', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0026061534881591797, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:25:37.157892 - MainThread - jsquared.api - INFO - {'request_id': 'a425ffcc-2cf7-4988-8e69-ad9f18b466ea', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0003139972686767578, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:37.161652 - MainThread - jsquared.api - INFO - {'request_id': '3a7c693b-f591-48f6-97e8-a1a68c4d8aa5', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002090930938720703, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:25:37.170214 - MainThread - jsquared.api - ERROR - {'request_id': 'fde83cec-52a9-4273-8c8e-cb13628913e1', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.002897977828979492, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:25:37.176752 - MainThread - jsquared.api - ERROR - {'request_id': '4281ec66-94f5-409c-8fd0-55f5f270dc5d', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0025091171264648438, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:25:37.184737 - MainThread - jsquared.api - ERROR - {'request_id': '83c9dff0-c95e-4e76-8164-63ee7a9cb8f8', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.002794981002807617, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:25:37.185580 - MainThread - jsquared.api - INFO - {'request_id': 'a4a49e60-19a4-4999-8d42-6956ab2556f8', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0003299713134765625, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:18.921814 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:26:18.901299'}
2025-02-19T02:26:18.986114 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:26:19.084566 - MainThread - jsquared.api - INFO - {'request_id': '801992d3-0906-4ac9-ba87-4e71e44bda2a', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0005180835723876953, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:19.111532 - MainThread - jsquared.api - INFO - {'request_id': '4f47618a-1788-42e8-a369-9252c50b5d5b', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002429485321044922, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:19.114701 - MainThread - jsquared.api - INFO - {'request_id': '82c5a175-38eb-4f73-9edc-bc6cf3e2f3fa', 'method': 'GET', 'path': '/', 'duration': 0.0002510547637939453, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:19.116478 - MainThread - jsquared.api - INFO - {'request_id': '5afa2c9b-d1a5-413a-830c-c21f489796d3', 'method': 'GET', 'path': '/health', 'duration': 0.0002620220184326172, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:19.118406 - MainThread - jsquared.api - INFO - {'request_id': '5ae146e2-1135-4a37-b834-c6348ffc70ff', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0002491474151611328, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:19.121571 - MainThread - jsquared.api - INFO - {'request_id': '561fdf22-db0f-4db6-b9de-8df50c2a3cea', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00023221969604492188, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:19.123164 - MainThread - jsquared.api - INFO - {'request_id': '73c26ae8-002b-4cb8-b5f7-57fc962eac91', 'method': 'GET', 'path': '/', 'duration': 0.00023698806762695312, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:19.177905 - MainThread - jsquared.api - ERROR - {'request_id': 'c2c92228-fb4d-40b7-872a-0cd63250b645', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0010259151458740234, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 66, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:26:21.008645 - MainThread - jsquared.api - ERROR - {'request_id': '8f8874bc-f398-4701-bbeb-ef0c1d500cd7', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.002808094024658203, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:26:21.028585 - MainThread - jsquared.api - ERROR - {'request_id': 'd1c9ef6f-4707-4ad2-91c2-27076fd5ac2a', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0026090145111083984, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:26:21.049626 - MainThread - jsquared.api - INFO - {'request_id': '8cecded7-f023-4aa8-bb6a-c67cedb4dde9', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00024080276489257812, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:21.065895 - MainThread - jsquared.api - INFO - {'request_id': '101a573b-6e6f-4a1b-85f7-103a87bf3d6a', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002460479736328125, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:26:21.086998 - MainThread - jsquared.api - ERROR - {'request_id': 'b3179530-c0d0-4975-a7ea-2a0fb71197b1', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0029931068420410156, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:26:21.107074 - MainThread - jsquared.api - ERROR - {'request_id': '82a53875-13ec-48fe-a4e8-2e6737d6c696', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0031800270080566406, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:26:21.128147 - MainThread - jsquared.api - ERROR - {'request_id': '3fb63d5e-1a7a-4ce1-b7b2-8189684afe41', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.003052949905395508, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:26:21.129078 - MainThread - jsquared.api - INFO - {'request_id': 'cbde572c-cfe2-4c74-b880-d9639c31d1b6', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002818107604980469, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:10.826279 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:27:10.804938'}
2025-02-19T02:27:10.889006 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:27:10.989158 - MainThread - jsquared.api - INFO - {'request_id': '599993b2-3c70-45a9-8e2e-ba81c385ebc1', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0004992485046386719, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:11.017009 - MainThread - jsquared.api - INFO - {'request_id': '31314a32-e54f-431b-8560-b375ec2fee56', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002288818359375, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:11.020037 - MainThread - jsquared.api - INFO - {'request_id': 'c91f599b-c287-4f24-84cd-39b5e2d41e51', 'method': 'GET', 'path': '/', 'duration': 0.0002319812774658203, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:11.021742 - MainThread - jsquared.api - INFO - {'request_id': 'd6371ae1-4178-4cce-936f-f0db7d6f5659', 'method': 'GET', 'path': '/health', 'duration': 0.00022721290588378906, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:11.023614 - MainThread - jsquared.api - INFO - {'request_id': 'd141ae44-5afa-4479-9449-64022e1ee56e', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.0002448558807373047, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:11.026790 - MainThread - jsquared.api - INFO - {'request_id': '5bb69d56-bdab-45e8-99ab-8b63360a7130', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.000209808349609375, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:11.028262 - MainThread - jsquared.api - INFO - {'request_id': '547999aa-adce-4474-836e-9798e6051b04', 'method': 'GET', 'path': '/', 'duration': 0.00021719932556152344, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:11.083640 - MainThread - jsquared.api - ERROR - {'request_id': 'feb53e85-c6b1-4b24-8a73-9747eb2b4b69', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0010678768157958984, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 66, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:12.906853 - MainThread - jsquared.api - ERROR - {'request_id': '4999d046-5451-4dbe-871a-411cc380cbf6', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0029120445251464844, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:12.927022 - MainThread - jsquared.api - ERROR - {'request_id': 'f646b787-f89f-41ac-87c6-857e28c36571', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0027039051055908203, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:12.945616 - MainThread - jsquared.api - INFO - {'request_id': 'bc3715bf-82ee-4e61-a4f2-84c7ee694009', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00024318695068359375, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:12.961921 - MainThread - jsquared.api - INFO - {'request_id': '0743efc0-4007-4669-91ce-1e112d1340e4', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023508071899414062, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:12.983117 - MainThread - jsquared.api - ERROR - {'request_id': '0b4ea7b7-0ba2-4792-9a6c-406b34e14052', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.00292205810546875, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:13.003555 - MainThread - jsquared.api - ERROR - {'request_id': 'd72f1a59-de60-4457-84c6-96eba846aed2', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.002933025360107422, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:13.027362 - MainThread - jsquared.api - ERROR - {'request_id': '551abc56-7e1f-4281-8b55-595651159836', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0031440258026123047, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:13.028189 - MainThread - jsquared.api - INFO - {'request_id': '1bc32151-d9d6-421b-8e06-7eda3743935d', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023984909057617188, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.581694 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:27:48.559061'}
2025-02-19T02:27:48.646296 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:27:48.746430 - MainThread - jsquared.api - INFO - {'request_id': 'b1f52859-fa7e-46dc-b6d6-001d2f10e3a1', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00045990943908691406, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.775339 - MainThread - jsquared.api - INFO - {'request_id': '620c298d-d85b-40b2-a599-a0c32d04afc2', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002529621124267578, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.778930 - MainThread - jsquared.api - INFO - {'request_id': '7408064d-42f3-4684-9c55-0c217f131612', 'method': 'GET', 'path': '/', 'duration': 0.0002613067626953125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.780528 - MainThread - jsquared.api - INFO - {'request_id': '5d42f670-814f-41c3-bc5b-aac99f29a78a', 'method': 'GET', 'path': '/health', 'duration': 0.00021576881408691406, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.782358 - MainThread - jsquared.api - INFO - {'request_id': '61ff00db-5e21-4615-b046-4b61fc88f15e', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00026607513427734375, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.785708 - MainThread - jsquared.api - INFO - {'request_id': 'a1644a43-ab29-4274-8bac-1798cb3ecccb', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0002570152282714844, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.787268 - MainThread - jsquared.api - INFO - {'request_id': '70b5e1ef-520f-4b6d-a324-57bc6e5d6a45', 'method': 'GET', 'path': '/', 'duration': 0.00023698806762695312, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:48.828152 - MainThread - jsquared.api - ERROR - {'request_id': 'b41158fb-1839-4345-ae81-6a29a7c5543c', 'method': 'POST', 'path': '/api/v1/auth/register', 'duration': 0.0008111000061035156, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 52, in register\n    user = await security.get_user_by_email(db, email=user_in.email)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/core/security.py", line 66, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:50.650123 - MainThread - jsquared.api - ERROR - {'request_id': '391350c9-7f52-448a-828b-ce4dcc3a62fb', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.003186941146850586, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:50.665588 - MainThread - jsquared.api - ERROR - {'request_id': 'd1ccc2a9-b6ba-4db3-8d93-6beeb9289940', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0028581619262695312, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:50.681045 - MainThread - jsquared.api - INFO - {'request_id': '976acd18-81cd-4dd4-975d-84e1fff196cd', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002410411834716797, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:50.695565 - MainThread - jsquared.api - INFO - {'request_id': 'cd823b0e-532d-4980-9d70-3c5015ce359a', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002460479736328125, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:27:50.712737 - MainThread - jsquared.api - ERROR - {'request_id': '129efce9-63ce-41cc-bef4-3295a628b34e', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.002864837646484375, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:50.729400 - MainThread - jsquared.api - ERROR - {'request_id': '16b8ce7c-117b-4188-b5fd-80e3213c90ad', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0029218196868896484, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:50.747319 - MainThread - jsquared.api - ERROR - {'request_id': '0d017434-6b3a-47ab-8168-073de2214b46', 'method': 'POST', 'path': '/api/v1/auth/token', 'duration': 0.0027952194213867188, 'status_code': 500, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0', 'error': "'AsyncSession' object has no attribute 'query'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive\n    return self.receive_nowait()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next\n    message = await recv_stream.receive()\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/main.py", line 106, in log_requests\n    response = await call_next(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next\n    raise app_exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 762, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 782, in app\n    await route.handle(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle\n    await self.app(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app\n    raise exc\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app\n    response = await func(request)\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 299, in app\n    raise e\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 294, in app\n    raw_response = await run_endpoint_function(\n  File "/Users/allan/Projects/flatearth/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n  File "/Users/allan/Projects/flatearth/jsquared/server/app/api/v1/endpoints/auth.py", line 21, in login_access_token\n    user = db.query(User).filter(User.email == form_data.username).first()\nAttributeError: \'AsyncSession\' object has no attribute \'query\'\n'}
2025-02-19T02:27:50.748095 - MainThread - jsquared.api - INFO - {'request_id': 'd228e4c6-dc96-4f78-9a5c-b5d7b65cc724', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00023698806762695312, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:31:46.371673 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:31:46.350910'}
2025-02-19T02:32:00.406557 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:32:00.385340'}
2025-02-19T02:32:10.205404 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:32:10.184298'}
2025-02-19T02:36:28.475514 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:36:28.453863'}
2025-02-19T02:36:28.551189 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:36:28.654609 - MainThread - jsquared.api - INFO - {'request_id': '91d61c9c-6850-4bbd-8e87-59f174362767', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0004878044128417969, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:36:28.681244 - MainThread - jsquared.api - INFO - {'request_id': 'cb48b5b0-45e5-4ac9-8c0c-a306e607b79a', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00022864341735839844, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:36:28.685207 - MainThread - jsquared.api - INFO - {'request_id': '2a781d8c-d19d-4855-8cd7-6ecc101c2cc5', 'method': 'GET', 'path': '/', 'duration': 0.0002758502960205078, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:36:28.686954 - MainThread - jsquared.api - INFO - {'request_id': '3467eb0f-2c3f-4e7a-a6ba-56bb8b1e2607', 'method': 'GET', 'path': '/health', 'duration': 0.00023794174194335938, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:36:28.688520 - MainThread - jsquared.api - INFO - {'request_id': 'f34fad1f-74a9-4aea-8ca6-d02b15aa71a9', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00023293495178222656, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:36:28.691540 - MainThread - jsquared.api - INFO - {'request_id': '02e471f2-7266-4451-a198-3270b292edcd', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.00026917457580566406, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:36:28.693089 - MainThread - jsquared.api - INFO - {'request_id': 'd9a0d970-3a27-4b63-a2ab-48d621f20d94', 'method': 'GET', 'path': '/', 'duration': 0.00022602081298828125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:37:21.700217 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:37:21.678503'}
2025-02-19T02:37:21.775653 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:37:21.877146 - MainThread - jsquared.api - INFO - {'request_id': '57f3a27f-2045-478a-9e28-7c40ae5c051d', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0004889965057373047, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:37:21.904790 - MainThread - jsquared.api - INFO - {'request_id': '9c609be9-71c1-4625-8ac0-2b8f785722e9', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.0002460479736328125, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:37:21.908548 - MainThread - jsquared.api - INFO - {'request_id': 'cc8bd10f-6bf4-4dd2-b999-8655a5ba7721', 'method': 'GET', 'path': '/', 'duration': 0.0002942085266113281, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:37:21.910562 - MainThread - jsquared.api - INFO - {'request_id': 'abd1cd54-3df8-42ea-ac99-a66790e26d76', 'method': 'GET', 'path': '/health', 'duration': 0.0003039836883544922, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:37:21.912464 - MainThread - jsquared.api - INFO - {'request_id': 'cd067c1a-6b18-49b2-8c31-4cc287a7fd1a', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00021886825561523438, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:37:21.915585 - MainThread - jsquared.api - INFO - {'request_id': '4041192d-ca37-4c43-926d-a27d49acc49e', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0002319812774658203, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:37:21.917135 - MainThread - jsquared.api - INFO - {'request_id': 'e7b42ae6-5cfb-4703-b1a7-1b4416a0c7e2', 'method': 'GET', 'path': '/', 'duration': 0.00022602081298828125, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:38:04.357084 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T02:38:04.335692'}
2025-02-19T02:38:04.434513 - MainThread - jsquared.api - INFO - Configuring CORS middleware
2025-02-19T02:38:04.535581 - MainThread - jsquared.api - INFO - {'request_id': '5aa6f68f-3a5a-4b6f-b9f4-26c75d56e5f5', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.000579833984375, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:38:04.563244 - MainThread - jsquared.api - INFO - {'request_id': '72fd6240-7ad9-40f5-8c48-6ae7b74eedba', 'method': 'GET', 'path': '/api/v1/users/me', 'duration': 0.00025177001953125, 'status_code': 307, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:38:04.567029 - MainThread - jsquared.api - INFO - {'request_id': '777ff364-c667-49e9-a839-b42895568924', 'method': 'GET', 'path': '/', 'duration': 0.0002868175506591797, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:38:04.568820 - MainThread - jsquared.api - INFO - {'request_id': '10d86fb4-ec2f-4f96-b72a-7ef8f3c95c32', 'method': 'GET', 'path': '/health', 'duration': 0.00023293495178222656, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:38:04.570367 - MainThread - jsquared.api - INFO - {'request_id': 'fa780502-9fcc-48af-91c3-a289a1f2810f', 'method': 'GET', 'path': '/api/v1/protected-endpoint', 'duration': 0.00021600723266601562, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:38:04.573360 - MainThread - jsquared.api - INFO - {'request_id': 'a9b0714e-2436-4356-916e-90ef9df0a35a', 'method': 'GET', 'path': '/api/v1/non-existent-endpoint', 'duration': 0.0002319812774658203, 'status_code': 404, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T02:38:04.574900 - MainThread - jsquared.api - INFO - {'request_id': '05451daa-424b-4304-ace6-7101a972377c', 'method': 'GET', 'path': '/', 'duration': 0.00021195411682128906, 'status_code': 200, 'client_ip': '127.0.0.1', 'user_agent': 'python-httpx/0.26.0'}
2025-02-19T05:03:19.372535 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T05:03:19.372044'}
2025-02-19T05:03:34.279307 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T05:03:34.259730'}
2025-02-19T05:03:54.844492 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T05:03:54.843167'}
2025-02-19T06:31:22.894801 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T06:31:22.894261'}
2025-02-19T06:31:42.183435 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T06:31:42.183228'}
2025-02-19T06:32:08.980686 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T06:32:08.960266'}
2025-02-19T06:33:12.467934 - Thread-2 - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T06:33:12.467438'}
2025-02-19T09:21:11.688245 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T09:21:11.685533'}
2025-02-19T09:22:11.691281 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T09:22:11.690909'}
2025-02-19T09:23:02.685525 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T09:23:02.683722'}
2025-02-19T09:24:02.691928 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T09:24:02.691280'}
2025-02-19T12:21:52.335669 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T12:21:52.335523'}
2025-02-19T12:59:04.111779 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T12:59:04.111692'}
2025-02-19T12:59:23.873672 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T12:59:23.873575'}
2025-02-19T12:59:37.732871 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T12:59:37.732755'}
2025-02-19T12:59:42.282340 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T12:59:42.282270'}
2025-02-19T12:59:57.599356 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T12:59:57.599284'}
2025-02-19T13:00:02.257209 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:00:02.257139'}
2025-02-19T13:00:07.390703 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:00:07.390639'}
2025-02-19T13:00:11.824793 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:00:11.824727'}
2025-02-19T13:08:51.312981 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:08:51.311149'}
2025-02-19T13:09:10.560521 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:09:10.560148'}
2025-02-19T13:09:31.604863 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:09:31.603612'}
2025-02-19T13:10:04.312675 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:10:04.310605'}
2025-02-19T13:10:18.046844 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:10:18.045366'}
2025-02-19T13:14:29.113271 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:14:29.105962'}
2025-02-19T13:14:37.017913 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:14:37.016712'}
2025-02-19T13:15:08.384518 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:15:08.383269'}
2025-02-19T13:15:27.542387 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:15:27.540347'}
2025-02-19T13:16:15.787330 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:16:15.785466'}
2025-02-19T13:16:53.197021 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:16:53.196104'}
2025-02-19T13:17:08.204594 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:17:08.202760'}
2025-02-19T13:29:35.697368 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:29:35.696383'}
2025-02-19T13:30:04.239568 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:30:04.237555'}
2025-02-19T13:30:36.915098 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:30:36.913338'}
2025-02-19T13:31:30.882805 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T13:31:30.881225'}
2025-02-19T16:06:46.701265 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:06:46.699427'}
2025-02-19T16:07:04.282610 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:07:04.280752'}
2025-02-19T16:07:29.994579 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:07:29.992741'}
2025-02-19T16:08:33.981679 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:08:33.980401'}
2025-02-19T16:09:11.559697 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:09:11.558604'}
2025-02-19T16:50:30.494782 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:50:30.493000'}
2025-02-19T16:50:54.541610 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:50:54.540568'}
2025-02-19T16:51:19.273762 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:51:19.271503'}
2025-02-19T16:51:45.131506 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T16:51:45.130382'}
2025-02-19T17:19:47.160530 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:19:47.159541'}
2025-02-19T17:23:10.869425 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:23:10.867554'}
2025-02-19T17:23:44.643810 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:23:44.641992'}
2025-02-19T17:24:27.031675 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:24:27.029798'}
2025-02-19T17:25:05.393393 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:25:05.392316'}
2025-02-19T17:25:49.002661 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:25:49.000962'}
2025-02-19T17:34:56.582561 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:34:56.581806'}
2025-02-19T17:35:43.313102 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:35:43.311817'}
2025-02-19T17:36:35.587124 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:36:35.586619'}
2025-02-19T17:37:27.896325 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:37:27.894768'}
2025-02-19T17:47:30.524510 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:47:30.524440'}
2025-02-19T17:47:58.768553 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:47:58.768430'}
2025-02-19T17:48:25.300338 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:48:25.300185'}
2025-02-19T17:48:56.674956 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': '2025-02-19T17:48:56.674889'}
1740062013 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': 1740062013}
1740062051 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': 1740062051}
1740062108 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': 1740062108}
1740062382 - Thread-2 (monitor) - jsquared.api - INFO - {'event': 'api_metrics', 'metrics': {'response_times': 0, 'error_rates': 0, 'requests_per_minute': 0, 'endpoint_usage': {}}, 'timestamp': 1740062382}
